<template>
    <section class="goods">
        <!-- 左侧分类列表 -->
        <div class="menu-wrapper" ref="left">
            <ul>
                <li class="menu-item current">
                    <img class="item-icon" src="https://fuss10.elemecdn.com/b/91/8cf4f67e0e8223931cd595dc932fepng.png" alt="aa">
                    <span class="text">热销</span>
                </li>
                <li class="menu-item">
                    <img class="item-icon" src="https://fuss10.elemecdn.com/b/91/8cf4f67e0e8223931cd595dc932fepng.png" alt="aa">
                    <span class="text">热销</span>
                </li>
                <li class="menu-item">
                    <span class="text">热销</span>
                </li>
                <li class="menu-item">
                    <img class="item-icon" src="https://fuss10.elemecdn.com/b/91/8cf4f67e0e8223931cd595dc932fepng.png" alt="aa">
                    <span class="text">热销</span>
                </li>
                <li class="menu-item">
                    <span class="text">热销</span>
                </li>
                <li class="menu-item">
                    <img class="item-icon" src="https://fuss10.elemecdn.com/b/91/8cf4f67e0e8223931cd595dc932fepng.png" alt="aa">
                    <span class="text">热销</span>
                </li>
                <li class="menu-item">
                    <span class="text">热销</span>
                </li>
                <li class="menu-item">
                    <img class="item-icon" src="https://fuss10.elemecdn.com/b/91/8cf4f67e0e8223931cd595dc932fepng.png" alt="aa">
                    <span class="text">热销</span>
                </li>
                <li class="menu-item">
                    <span class="text">热销</span>
                </li>
                <li class="menu-item">
                    <img class="item-icon" src="https://fuss10.elemecdn.com/b/91/8cf4f67e0e8223931cd595dc932fepng.png" alt="aa">
                    <span class="text">热销</span>
                </li>
                <li class="menu-item">
                    <span class="text">热销</span>
                </li>
                <li class="menu-item">
                    <img class="item-icon" src="https://fuss10.elemecdn.com/b/91/8cf4f67e0e8223931cd595dc932fepng.png" alt="aa">
                    <span class="text">热销</span>
                </li>
                <li class="menu-item">
                    <span class="text">热销</span>
                </li>
            </ul>
        </div>
        <!-- 右侧分类展示 -->
        <div class="foods-wrapper" ref="right">
            <ul ref="rightUl">
                <!-- 大类 -->
                <li class="food-list-hook">
                    <h3 class="title">热销</h3>
                    <!-- 具体小类 -->
                    <ul>
                        <li class="food-item">
                            <!-- 菜图标 -->
                            <div class="icon">
                                <img src="http://fuss10.elemecdn.com/8/a6/453f65f16b1391942af11511b7a90jpeg.jpeg?imageView2/1/w/114/h/114" >
                            </div>
                            <div class="content">
                                <h4 class="name">南瓜粥</h4>
                                <div class="desc">美味好吃不贵</div>
                                <div class="extra">
                                    <span class="count">月售200份</span>
                                    <span>好评率90%</span>
                                </div>
                                <div class="price">
                                    <span class="now">￥10</span>
                                    <span class="old">￥20</span>
                                </div>
                                <div class="cartcontrol-wrapper">
                                    CarControl加减器组件
                                </div>
                            </div>
                        </li>
                        <li class="food-item">
                            <!-- 菜图标 -->
                            <div class="icon">
                                <img width="57" height="57" src="http://fuss10.elemecdn.com/8/a6/453f65f16b1391942af11511b7a90jpeg.jpeg?imageView2/1/w/114/h/114" >
                            </div>
                            <div class="content">
                                <h4 class="name">南瓜粥</h4>
                                <div class="desc">美味好吃不贵</div>
                                <div class="extra">
                                    <span class="count">月售200份</span>
                                    <span>好评率90%</span>
                                </div>
                                <div class="price">
                                    <span class="now">￥10</span>
                                    <span class="old">￥20</span>
                                </div>
                                <div class="cartcontrol-wrapper">
                                    CarControl加减器组件
                                </div>
                            </div>
                        </li>
                    </ul>
                </li>
                <li class="food-list-hook">
                    <h3 class="title">店长推荐</h3>
                    <!-- 具体小类 -->
                    <ul>
                        <li class="food-item">
                            <!-- 菜图标 -->
                            <div class="icon">
                                <img width="57" height="57" src="http://fuss10.elemecdn.com/8/a6/453f65f16b1391942af11511b7a90jpeg.jpeg?imageView2/1/w/114/h/114" >
                            </div>
                            <div class="content">
                                <h4 class="name">南瓜粥</h4>
                                <div class="desc">美味好吃不贵</div>
                                <div class="extra">
                                    <span class="count">月售200份</span>
                                    <span>好评率90%</span>
                                </div>
                                <div class="price">
                                    <span class="now">￥10</span>
                                    <span class="old">￥20</span>
                                </div>
                                <div class="cartcontrol-wrapper">
                                    CarControl加减器组件
                                </div>
                            </div>
                        </li>
                        <li class="food-item">
                            <!-- 菜图标 -->
                            <div class="icon">
                                <img width="57" height="57" src="http://fuss10.elemecdn.com/8/a6/453f65f16b1391942af11511b7a90jpeg.jpeg?imageView2/1/w/114/h/114" >
                            </div>
                            <div class="content">
                                <h4 class="name">南瓜粥</h4>
                                <div class="desc">美味好吃不贵</div>
                                <div class="extra">
                                    <span class="count">月售200份</span>
                                    <span>好评率90%</span>
                                </div>
                                <div class="price">
                                    <span class="now">￥10</span>
                                    <span class="old">￥20</span>
                                </div>
                                <div class="cartcontrol-wrapper">
                                    CarControl加减器组件
                                </div>
                            </div>
                        </li>
                        <li class="food-item">
                            <!-- 菜图标 -->
                            <div class="icon">
                                <img width="57" height="57" src="http://fuss10.elemecdn.com/8/a6/453f65f16b1391942af11511b7a90jpeg.jpeg?imageView2/1/w/114/h/114" >
                            </div>
                            <div class="content">
                                <h4 class="name">南瓜粥</h4>
                                <div class="desc">美味好吃不贵</div>
                                <div class="extra">
                                    <span class="count">月售200份</span>
                                    <span>好评率90%</span>
                                </div>
                                <div class="price">
                                    <span class="now">￥10</span>
                                    <span class="old">￥20</span>
                                </div>
                                <div class="cartcontrol-wrapper">
                                    CarControl加减器组件
                                </div>
                            </div>
                        </li>
                        <li class="food-item">
                            <!-- 菜图标 -->
                            <div class="icon">
                                <img width="57" height="57" src="http://fuss10.elemecdn.com/8/a6/453f65f16b1391942af11511b7a90jpeg.jpeg?imageView2/1/w/114/h/114" >
                            </div>
                            <div class="content">
                                <h4 class="name">南瓜粥</h4>
                                <div class="desc">美味好吃不贵</div>
                                <div class="extra">
                                    <span class="count">月售200份</span>
                                    <span>好评率90%</span>
                                </div>
                                <div class="price">
                                    <span class="now">￥10</span>
                                    <span class="old">￥20</span>
                                </div>
                                <div class="cartcontrol-wrapper">
                                    CarControl加减器组件
                                </div>
                            </div>
                        </li>
                        <li class="food-item">
                            <!-- 菜图标 -->
                            <div class="icon">
                                <img width="57" height="57" src="http://fuss10.elemecdn.com/8/a6/453f65f16b1391942af11511b7a90jpeg.jpeg?imageView2/1/w/114/h/114" >
                            </div>
                            <div class="content">
                                <h4 class="name">南瓜粥</h4>
                                <div class="desc">美味好吃不贵</div>
                                <div class="extra">
                                    <span class="count">月售200份</span>
                                    <span>好评率90%</span>
                                </div>
                                <div class="price">
                                    <span class="now">￥10</span>
                                    <span class="old">￥20</span>
                                </div>
                                <div class="cartcontrol-wrapper">
                                    CarControl加减器组件
                                </div>
                            </div>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </section>
</template>

<script type="text/ecmascript-6">
    import {mapState} from 'vuex'
    export default {
        computed: {
            ...mapState(['goods'])
        }
    }
</script>

<style scoped lang="stylus" rel="stylesheet/stylus">
    @import "../../common/stylus/mixins.styl"
    .goods 
        background-color #fff
        width 100%

        /* 确定视口中实现滚动条!!!!!!父元素绝对定位,bottom等于确定值,overflow为hidden很关键, 
        子元素只需要高度大于父元素, overflow auto即可实现 */
        position absolute
        top 223px
        bottom 0
        overflow hidden                     // 关键点
        display flex                        // 也是关键点

        .menu-wrapper
            // overflow auto                // 测试能否正确自动生成滚动条
            width 80px
            background #f3f5f7
            /* 使用newswiper 时,除去该属性,使用插件来实现 */
            .menu-item 
                height 54px
                line-height 54px
                box-sizing border-box
                padding 0 12px
                text-align center
                font-size 12px
                &:not(:last-child)          // 细节: 除去最后子元素的下边框
                    bottom-border-1px(rgba(7, 17, 27, 0.1))
                &.current
                    background-color #fff
                    color $green
                    font-weight bold
                    font-size 14px
                .item-icon 
                    display inline-block
                    width 12px
                    height 12px
                    vertical-align middle
                    margin-right 2px
                .text 
                    display inline-block
                    vertical-align middle
                    /* 子元素继承的样式优先级最低,所以给他的父元素设置统一样式, 激活时单独设置字体大小即可 */
                    /* font-size 12px */
                    
        /* foods-wrapper */
        .foods-wrapper
            // overflow auto             // 测试能否正确自动生成滚动条  
            padding-left 14px
            /* 要什么自行车!!! flex布局中,当然要通过flex自身的宽度自适应来解决宽度问题啊!!! */
            flex 1                       // 剩余空间占比: 占1份
            // width calc(100%-84px)     // 失效状态
            ul 
                .title
                    // height 26px
                    line-height 26px
                    width 100%
                    font-size 12px
                    color rgb(147, 153, 159)
                    background-color #f3f5f7
                    box-sizing border-box
                    border-left 2px solid #d9dde1       // 细节,设置边框时就需要考虑是否需要设置盒模型
                .food-item 
                    display flex 
                    margin 18px
                    margin-left 0
                    position relative
                    padding-bottom 18px
                    &:not(:last-child)          // 排除法
                        bottom-border-1px(rgba(7, 17, 27, 0.1))
                    &:last-child                // 通过设置margin-bottom使每一大类最后一个子元素抵消每个子元素设置的padding-bottom
                        margin-bottom 0
                    .icon
                        width 57px
                        height 57px
                        img 
                            width 100%
                            height 100%
                            // display inline-block
                    .content 
                        margin-left 8px
                        .name 
                            line-height 14px
                            font-size 14px
                            font-weight bold
                            color rgb(7, 17, 27)
                        .desc, .extra
                            line-height 12px
                            font-size 12px
                            color: rgb(147, 153, 159)
                            margin 8px 0 6px
                        .extra
                            .count 
                                margin-right 10px
                        .price 
                            font-weight 700
                            line-height 20px
                            .now
                                margin-right 6px
                                font-size 14px
                                color rgb(240, 20, 20)
                            .old
                                font-size: 12px
                                color rgb(147, 153, 159)
                                text-decoration line-through
                                display inline-block
                                transform scale(0.8)
                        .cartcontrol-wrapper
                            position absolute 
                            right 0
                            bottom 12px
                            


</style>
